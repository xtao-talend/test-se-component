= A Component Family

== Background

This project aims to test if connector-se contains all needs to develop a new custom component as an end user.
follow this document: https://talend.github.io/component-runtime/main/1.1.15/getting-started.html

== TCK Plugin in intellij

We can add TCK Plugin by following "settings -> plugins", search the "Talend component kit".

== Data source

JSON data source ->
Open weathermap : https://openweathermap.org/history

== Package

Build project and to .car

[source]
----
mvn clean install
mvn talend-component:car
----

== Deploy

We have a tool image https://hub.docker.com/r/tacokit/remote-engine-customizer/tags[remote-engine-customizer],
and we can run docker container with

[source]
----
docker run tacokit/remote-engine-customizer:${version} help
----

after having run this tool, we can build connector image including this custom component

[source]
----
docker run \
    -v ${remote_engine_folder}:/remoteEngines/pipeline-remote-engine/ \
    -v ${car_file_folder}:/exchange/ \
    -v /var/run/docker.sock:/var/run/docker.sock \
    tacokit/remote-engine-customizer:1.1.16_20191119111726 \
    register-component-archive \
    --remote-engine-dir=/remoteEngines/pipeline-remote-engine/ \
    --component-archive=/exchange/test-components-0.0.1-SNAPSHOT.car
----